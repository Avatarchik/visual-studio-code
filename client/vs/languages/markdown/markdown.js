/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
"use strict";var __extends=this.__extends||function(e,r){function s(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);s.prototype=r.prototype,e.prototype=new s};define("vs/languages/markdown/markdown",["require","exports","vs/editor/modes/monarch/monarch","vs/editor/modes/monarch/monarchCompile","vs/platform/thread/attribute"],function(e,r,s,n,o){r.language={displayName:"Markdown",name:"md",mimeTypes:["text/x-web-markdown"],fileExtensions:["md","markdown","mdown","mkdn","mkd","mdwn","mdtxt","mdtext"],defaultToken:"",workerDescriptor:{moduleName:"vs/languages/markdown/markdownWorker",ctorName:"MarkdownWorker"},autoClosingPairs:[],control:/[\\`*_\[\]{}()#+\-\.!]/,noncontrol:/[^\\`*_\[\]{}()#+\-\.!]/,escapes:/\\(?:@control)/,jsescapes:/\\(?:[btnfr\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,empty:["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param"],tokenizer:{root:[[/^(\s*)(#+)((?:[^\\#]|@escapes)+)((?:#+)?)/,["white","keyword.$1","keyword.$1","keyword.$1"]],[/^\s*(=+|\-+)\s*$/,"keyword.header"],[/^\s*((\*[ ]?)+)\s*$/,"keyword.header"],[/^\s*>+/,"comment"],[/^(\t|[ ]{4}).*$/,"variable"],[/^\s*~{3}\s*$/,{token:"variable",next:"@codeblock"}],[/^\s*```\s*((?:\w|[\/\-])+)\s*$/,{token:"variable",next:"@codeblockgh",nextEmbedded:"$1"}],[/^\s*([\*\-+:]|\d+\.)\s/,"string.list"],{include:"@linecontent"}],codeblock:[[/^\s*~{3}\s*$/,{token:"namespace.code",next:"@pop"}],[/.*$/,"variable.code"]],codeblockgh:[[/```\s*$/,{token:"@rematch",switchTo:"@codeblockghend",nextEmbedded:"@pop"}],[/[^`]*$/,"variable.code"]],codeblockghend:[[/\s*```/,{token:"variable.code",next:"@pop"}],[/./,"@rematch","@pop"]],linecontent:[[/&\w+;/,"string.escape"],[/@escapes/,"escape"],[/\b__([^\\_]|@escapes|_(?!_))+__\b/,"strong"],[/\*\*([^\\*]|@escapes|\*(?!\*))+\*\*/,"strong"],[/\b_[^_]+_\b/,"emphasis"],[/\*([^\\*]|@escapes)+\*/,"emphasis"],[/`([^\\`]|@escapes)+`/,"variable"],[/\{[^}]+\}/,"string.target"],[/(!?\[)((?:[^\]\\]|@escapes)+)(\]\([^\)]+\))/,["string.link","","string.link"]],[/(!?\[)((?:[^\]\\]|@escapes)+)(\])/,"string.link"],{include:"html"}],html:[[/<(\w+)\/>/,"tag.tag-$1"],[/<(\w+)/,{cases:{"@empty":{token:"tag.tag-$1",next:"@tag.$1"},"@default":{token:"tag.tag-$1",bracket:"@open",next:"@tag.$1"}}}],[/<\/(\w+)\s*>/,{token:"tag.tag-$1",bracket:"@close",next:"@pop"}],[/<!--/,"comment","@comment"]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,"comment","@pop"],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]],tag:[[/[ \t\r\n]+/,"white"],[/(type)(\s*=\s*)(")([^"]+)(")/,["attribute.name","delimiter","attribute.value.html",{token:"attribute.value.html",switchTo:"@tag.$S2.$4"},"attribute.value.html"]],[/(type)(\s*=\s*)(')([^']+)(')/,["attribute.name","delimiter","attribute.value.html",{token:"attribute.value.html",switchTo:"@tag.$S2.$4"},"attribute.value.html"]],[/(\w+)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name","delimiter","attribute.value.html"]],[/\w+/,"attribute.name"],[/\/>/,"tag.tag-$S2","@pop"],[/>/,{cases:{"$S2==style":{token:"tag.tag-$S2",switchTo:"@embedded.$S2",nextEmbedded:"text/css"},"$S2==script":{cases:{$S3:{token:"tag.tag-$S2",switchTo:"@embedded.$S2",nextEmbedded:"$S3"},"@default":{token:"tag.tag-$S2",switchTo:"@embedded.$S2",nextEmbedded:"text/javascript"}}},"@default":{token:"tag.tag-$S2",switchTo:"html"}}}]],embedded:[[/[^"'<]+/,""],[/<\/(\w+)\s*>/,{cases:{"$1==$S2":{token:"@rematch",switchTo:"@html",nextEmbedded:"@pop"},"@default":""}}],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string",'@string."'],[/'/,"string","@string.'"],[/</,""]],string:[[/[^\\"']+/,"string"],[/@jsescapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}]]}};var t=function(e){function s(s,o){e.call(this,s,o,n.compile(r.language)),this.emitOutputSupport=this,this.tokenizationSupport.shouldGenerateEmbeddedModels=!1,this.baseUrl=s.requestService.getRequestUrl("root")}return __extends(s,e),s.prototype.getCommentsConfiguration=function(){return{blockCommentStartToken:"<!--",blockCommentEndToken:"-->"}},s.prototype.getEmitOutput=function(e){var r=this;return this._worker(function(s){return s.getEmitOutput(e,r.baseUrl)})},s.prototype._worker=function(r){return e.prototype._worker.call(this,r)},s.$getEmitOutput=o.OneWorker(s,s.prototype.getEmitOutput),s}(s.MonarchMode);r.MarkdownMode=t});