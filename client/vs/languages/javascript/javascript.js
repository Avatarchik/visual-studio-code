/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
"use strict";define("vs/languages/typescript/features/tokenization",["require","exports","vs/base/strings","vs/base/arrays","vs/base/collections","vs/editor/modes/modes","vs/editor/modes/supports","vs/languages/vsxml/vsxml","vs/editor/modes/stream","vs/languages/typescript/lib/typescriptServices","vs/editor/modes/modesExtensions"],function(e,r,s,n,o,t,a,i,l,c,d){function m(e,r){var s=c.createClassifier({log:function(){}}),n=r===b.TypeScript?f:y,o=r===b.TypeScript?g:k;return{shouldGenerateEmbeddedModels:!1,getInitialState:function(){return new w(e,null,r,p.Unknown)},tokenize:function(e,r,t,a){return u(n,o,s,r,e,t,a)}}}function u(e,r,o,i,l,d){function m(e,r,s){(0===u.tokens.length||void 0!==s||n.tail(u.tokens).type!==r)&&u.tokens.push(new a.Token(e,r,s||t.Bracket.None))}void 0===d&&(d=0);var u={tokens:[],actualStopOffset:d+l.length,endState:new w(i.getMode(),i.getStateData(),i.language,p.Unknown),modeTransitions:[{startIndex:d,mode:i.getMode()}]};if(h(i,d,l,m))return u;var f=o.getClassificationsForLine(l,p.toEndOfLineState(i.errorState),!0),g=i.language===b.TypeScript,y=0;return u.endState.errorState=p.toErrorState(f.finalLexState,l,i.errorState),f.entries.forEach(function(n){var o,a=t.Bracket.None;if(n.classification===c.TokenClass.Punctuation){var u=l.charCodeAt(y);a=v[u]||t.Bracket.None,o=e[u]||r[n.classification],m(y+d,o,a)}else n.classification===c.TokenClass.Comment?i.errorState===p.InDocMultiLineCommentTrivia||l.match(/\/\*\*.*$/)&&!l.match(/^\s*\/\//)?m(y+d,g?"comment.doc.ts":"comment.doc.js",t.Bracket.None):i.errorState===p.InMultiLineCommentTrivia||l.match(/\/\*.*$/)&&!l.match(/^\s*\/\//)?m(y+d,g?"comment.block.ts":"comment.block.js",t.Bracket.None):m(y+d,g?"comment.line.ts":"comment.line.js",t.Bracket.None):m(y+d,r[n.classification]||s.empty,void 0);y+=n.length}),u}function h(e,r,s,n){if(!s.match(x))return!1;var o,a,c=new l.LineStream(s),d=new i.VSXMLExpression(e.getMode(),e);for(c.advanceIfRegExp(x).length>0&&n(r,"comment.vs",t.Bracket.None);!c.eos();){a=c.pos();do{if(o=d.tokenize(c),null===o||void 0===o||(void 0===o.type||null===o.type)&&(void 0===o.nextState||null===o.nextState))throw new Error("Tokenizer must return a valid state");if(o.nextState&&(o.nextState.setStateData(d.getStateData()),d=o.nextState),c.pos()<=a)throw new Error}while(!o.type&&""!==o.type);n(a+r,o.type,o.bracket)}return!0}!function(e){e[e.TypeScript=0]="TypeScript",e[e.EcmaScript5=1]="EcmaScript5"}(r.Language||(r.Language={}));var b=r.Language;r.createTokenizationSupport=m;var p;!function(e){e[e.Unknown=0]="Unknown",e[e.InMultiLineCommentTrivia=1]="InMultiLineCommentTrivia",e[e.InDocMultiLineCommentTrivia=2]="InDocMultiLineCommentTrivia",e[e.InSingleQuoteStringLiteral=3]="InSingleQuoteStringLiteral",e[e.InDoubleQuoteStringLiteral=4]="InDoubleQuoteStringLiteral"}(p||(p={}));var p;!function(e){function r(r){switch(r){case e.InSingleQuoteStringLiteral:return c.EndOfLineState.InSingleQuoteStringLiteral;case e.InDoubleQuoteStringLiteral:return c.EndOfLineState.InDoubleQuoteStringLiteral;case e.InMultiLineCommentTrivia:case e.InDocMultiLineCommentTrivia:return c.EndOfLineState.InMultiLineCommentTrivia}return c.EndOfLineState.Start}function s(r,s,n){switch(r){case c.EndOfLineState.Start:return e.Unknown;case c.EndOfLineState.InSingleQuoteStringLiteral:return e.InSingleQuoteStringLiteral;case c.EndOfLineState.InDoubleQuoteStringLiteral:return e.InDoubleQuoteStringLiteral;case c.EndOfLineState.InMultiLineCommentTrivia:return n===e.InDocMultiLineCommentTrivia||s.match(/\/\*\*.*$/)?e.InDocMultiLineCommentTrivia:e.InMultiLineCommentTrivia}}e.toEndOfLineState=r,e.toErrorState=s}(p||(p={}));var w=function(){function e(e,r,s,n){this._mode=e,this._state=r,this.language=s,this.errorState=n}return e.prototype.clone=function(){return new e(this._mode,d.safeStateClone(this._state),this.language,this.errorState)},e.prototype.equals=function(r){return r===this?!0:r&&r instanceof e?this.errorState!==r.errorState?!1:d.safeStateEquals(this._state,r._state):!1},e.prototype.getMode=function(){return this._mode},e.prototype.tokenize=function(){throw new Error},e.prototype.getStateData=function(){return this._state},e.prototype.setStateData=function(e){this._state=e},e}(),v=o.createNumberDictionary();v["(".charCodeAt(0)]=t.Bracket.Open,v[")".charCodeAt(0)]=t.Bracket.Close,v["{".charCodeAt(0)]=t.Bracket.Open,v["}".charCodeAt(0)]=t.Bracket.Close,v["[".charCodeAt(0)]=t.Bracket.Open,v["]".charCodeAt(0)]=t.Bracket.Close;var f=o.createNumberDictionary();f["(".charCodeAt(0)]="delimiter.parenthesis.ts",f[")".charCodeAt(0)]="delimiter.parenthesis.ts",f["{".charCodeAt(0)]="delimiter.bracket.ts",f["}".charCodeAt(0)]="delimiter.bracket.ts",f["[".charCodeAt(0)]="delimiter.array.ts",f["]".charCodeAt(0)]="delimiter.array.ts";var g=o.createNumberDictionary();g[c.TokenClass.Identifier]="identifier.ts",g[c.TokenClass.Keyword]="keyword.ts",g[c.TokenClass.Operator]="delimiter.ts",g[c.TokenClass.Punctuation]="delimiter.ts",g[c.TokenClass.NumberLiteral]="number.ts",g[c.TokenClass.RegExpLiteral]="regexp.ts",g[c.TokenClass.StringLiteral]="string.ts";var y=o.createNumberDictionary();y["(".charCodeAt(0)]="delimiter.parenthesis.js",y[")".charCodeAt(0)]="delimiter.parenthesis.js",y["{".charCodeAt(0)]="delimiter.bracket.js",y["}".charCodeAt(0)]="delimiter.bracket.js",y["[".charCodeAt(0)]="delimiter.array.js",y["]".charCodeAt(0)]="delimiter.array.js";var k=o.createNumberDictionary();k[c.TokenClass.Identifier]="identifier.js",k[c.TokenClass.Keyword]="keyword.js",k[c.TokenClass.Operator]="delimiter.js",k[c.TokenClass.Punctuation]="delimiter.js",k[c.TokenClass.NumberLiteral]="number.js",k[c.TokenClass.RegExpLiteral]="regexp.js",k[c.TokenClass.StringLiteral]="string.js";var x=/^\s*\/\/\//}),define("vs/base/lifecycle",["require","exports"],function(e,r){function s(e){for(var r=0,s=e.length;s>r;r++)e[r]&&e[r].dispose();return[]}function n(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return{dispose:function(){return s(e)}}}function o(e){return{dispose:function(){return s(e)}}}function t(e){return{dispose:function(){return e()}}}function a(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return o(e.map(t))}function i(e){if(e){if("function"==typeof e)return e(),null;if(Array.isArray(e)){for(;e.length>0;)e.pop()();return e}return null}return null}r.disposeAll=s,r.combinedDispose=n,r.combinedDispose2=o,r.fnToDisposable=t,r.toDisposable=a,r.cAll=i;var l=function(){function e(e){this._prefix=e,this._lastId=0}return e.prototype.generate=function(){return this._prefix+ ++this._lastId},e}();r.IdGenerator=l});var __extends=this.__extends||function(e,r){function s(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);s.prototype=r.prototype,e.prototype=new s};define("vs/base/uuid",["require","exports"],function(e,r){function s(e,r){return"function"==typeof e[r]&&0===e[r].length}function n(e){return e instanceof i||e instanceof l||s(e,"asHex",0)&&s(e,"equals",1)}function o(){return new l}function t(e){if(!c.test(e))throw new Error("invalid uuid");return new i(e)}function a(){return o().asHex()}r.isUUID=n;var i=function(){function e(e){this._value=e}return e.prototype.asHex=function(){return this._value},e.prototype.equals=function(e){return this.asHex()===e.asHex()},e}(),l=function(e){function r(){e.call(this,[r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}return __extends(r,e),r._oneOf=function(e){var r=Math.floor(e.length*Math.random());return e[r]},r._randomHex=function(){return r._oneOf(r._chars)},r._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],r._timeHighBits=["8","9","a","b"],r}(i);r.empty=new i("00000000-0000-0000-0000-000000000000"),r.v4=o;var c=/^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$/;r.parse=t,r.generateUuid=a}),define("vs/languages/typescript/features/quickFixMainActions",["require","exports","vs/base/strings","vs/base/errors","vs/base/lib/winjs.base","vs/base/paths"],function(e,r,s,n,o,t){var a=function(){function e(e){this._requestService=e.requestService,this._fileService=e.fileService,this._resourceService=e.resourceService}return e.prototype.evaluate=function(e,r,s){var n=JSON.parse(s);switch(n.type){case"addtripleslash":return this.evaluateTripleSlashQuickFix(n.name,e)}return o.Promise.as(null)},e.prototype.evaluateTripleSlashQuickFix=function(e,r){var o=this,a="/typings/"+e,i=s.rtrim(t.dirname(this._requestService.getPath("root",r)),"/"),l=t.relative(i,a),c=s.format('/// <reference path="{0}"/>\n',l),d={editOperations:[{range:{startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},text:c}]};return this._fileService.resolveFileStat(a).then(function(){return d},function(){var r="https://raw.githubusercontent.com/borisyankov/DefinitelyTyped/master/"+e;return o._requestService.makeRequest({url:r,followRedirects:5}).then(function(e){return o._fileService.createFile(a,e.responseText).then(function(){return d},function(){return d})},function(e){return n.onUnexpectedError(s.format("Unable to fetch d.ts file at {0}: {1}",r,e.toString())),d})})},e}();r.QuickFixMainActions=a}),define("vs/languages/typescript/typescript",["require","exports","vs/platform/platform"],function(e,r,s){var n;!function(e){e.ResourceSetChanged="typescript.resourceSetChanged"}(n=r.Events||(r.Events={}));var o;!function(e){function r(e){o=e}function n(){return o}e.Identifier="typescript",s.Registry.add(e.Identifier,e);var o;e.setProjectResolver=r,e.getProjectResolver=n}(o=r.Extensions||(r.Extensions={}))});var __extends=this.__extends||function(e,r){function s(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);s.prototype=r.prototype,e.prototype=new s};define("vs/languages/typescript/typescriptMode",["require","exports","vs/base/lib/winjs.base","vs/base/lifecycle","vs/base/errors","vs/editor/modes/modesExtensions","vs/editor/modes/supports","vs/base/uuid","vs/base/arrays","vs/platform/services","vs/languages/typescript/features/tokenization","vs/languages/typescript/features/quickFixMainActions","vs/platform/thread/attribute","vs/languages/typescript/typescript"],function(e,r,s,n,o,t,a,i,l,c,d,m,u,h){var b=function(e){function r(r,s){var n=this;e.call(this,r,s,c.AsyncDescriptor.create("vs/languages/typescript/typescriptWorker2","TypeScriptWorker2")),this._disposables=[],this._projectResolverPromise=null,this._projectPromise=null,this._pendingCallbacks=[],this._telemetryService=r.telemetryService,r.eventService&&this._disposables.push(r.eventService.addListener2(h.Events.ResourceSetChanged,function(){return n._joinProjectResolver()})),this.tokenizationSupport=d.createTokenizationSupport(this,d.Language.TypeScript),this.electricCharacterSupport=new a.BracketElectricCharacterSupport(this,{brackets:[{tokenType:"delimiter.bracket.ts",open:"{",close:"}",isElectric:!0},{tokenType:"delimiter.array.ts",open:"[",close:"]",isElectric:!0},{tokenType:"delimiter.parenthesis.ts",open:"(",close:")",isElectric:!0}],docComment:{scope:"comment.doc",open:"/**",lineStart:" * ",close:" */"}}),this.referenceSupport=new a.ReferenceSupport(this,{tokens:["identifier.ts"],findReferences:function(e,r,s){return n.findReferences(e,r,s)}}),this.navigateTypesSupport=this,this.extraInfoSupport=this,this.formattingSupport=this,this.declarationSupport=new a.DeclarationSupport(this,{tokens:["identifier.ts","string.ts","attribute.value.vs"],findDeclaration:function(e,r){return n.findDeclaration(e,r)}}),this.quickFixSupport=this,this.logicalSelectionSupport=this,this.parameterHintsSupport=new a.ParameterHintsSupport(this,{triggerCharacters:["(",","],excludeTokens:["string.ts"],getParameterHints:function(e,r){return n.getParameterHints(e,r)}}),this.outlineSupport=this,this.emitOutputSupport=this,this.codeLensSupport=this,this.renameSupport=this,this.characterPairSupport=new a.CharacterPairSupport(this,{autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"`",close:"`"}]}),this.suggestSupport=new a.SuggestSupport(this,{triggerCharacters:["."],excludeTokens:["string","comment","number"],sortBy:[{type:"reference",partSeparator:"/"}],suggest:function(e,r){return n.suggest(e,r)},getSuggestionDetails:function(e,r,s){return n.getSuggestionDetails(e,r,s)}})}return __extends(r,e),r.prototype.dispose=function(){this._disposables=n.disposeAll(this._disposables)},r.prototype._releaseCallbacks=function(e,r){for(;this._pendingCallbacks.length>0;){var s=this._pendingCallbacks.shift();r?s.error(r):s.completion(e)}},r.prototype._joinProjectResolver=function(){var e=this;if(!this._threadService.isInMainThread)return null;var r,n;if(n=new s.TPromise(function(s,n){r={completion:s,error:n},e._pendingCallbacks.push(r)},function(){var s=e._pendingCallbacks.indexOf(r);s>=0&&(e._pendingCallbacks.splice(s,1),r.error(o.canceled()))}),!this._projectPromise){if(!this._projectResolverPromise){var t=this._getProjectResolverDescription();if(!t)return null;this._projectResolverPromise=this._instantiationService.createInstance(t)}this._projectPromise=this._projectResolverPromise.then(function(e){var r=e.resolve();return s.Promise.is(r)?r:s.TPromise.as({})}).then(function(r){return r?r.hasChanges!==!0&&l.isFalsyOrEmpty(r.added)&&l.isFalsyOrEmpty(r.removed)?null:e._acceptProjectDelta(r):null});var a,c=Date.now(),d=i.v4().asHex();a=setInterval(function(){e._telemetryService.log("typescript.projectResolver.slow",{module:e._getProjectResolverDescription().moduleName,ctor:e._getProjectResolverDescription().ctorName,resolveCallUuid:d,totalWaitTime:Date.now()-c})},2e4),this._projectPromise.done(function(r){clearTimeout(a),e._projectPromise=null,e._releaseCallbacks(r,null)},function(r){clearTimeout(a),e._projectPromise=null,e._releaseCallbacks(null,r)})}return n},r.prototype._getProjectResolverDescription=function(){return h.Extensions.getProjectResolver()},r.prototype._acceptProjectDelta=function(e){return this._worker(function(r){return r.acceptProjectDelta(e)})},r.prototype.getNonWordTokenTypes=function(){return["delimiter.ts","delimiter.parenthesis.ts","delimiter.bracket.ts","delimiter.array.ts"]},r.prototype.getCommentsConfiguration=function(){return{lineCommentTokens:["//"],blockCommentStartToken:"/*",blockCommentEndToken:"*/"}},r.prototype._pickAWorkerToValidate=function(){return this._worker(function(e){return e.enableValidator()})},r.prototype.getOutline=function(e){return this._worker(function(r){return r.getOutline(e)})},r.prototype.findOccurrences=function(e,r,s){return void 0===s&&(s=!1),this._worker(function(n){return n.findOccurrences(e,r,s)})},r.prototype.suggest=function(e,r){return this._worker(function(s){return s.suggest(e,r)})},r.prototype.getSuggestionDetails=function(e,r,s){return this._worker(function(n){return n.getSuggestionDetails(e,r,s)})},r.prototype.getParameterHints=function(e,r){return this._worker(function(s){return s.getParameterHints(e,r)})},r.prototype.getEmitOutput=function(e,r){return void 0===r&&(r=void 0),this._worker(function(s){return s.getEmitOutput(e,r)})},r.prototype.getWordDefinition=function(){return r.WORD_DEFINITION},r.prototype._worker=function(r){return e.prototype._worker.call(this,r)},r.prototype.findReferences=function(e,r,s){return this._worker(function(n){return n.findReferences(e,r,s)})},Object.defineProperty(r.prototype,"filter",{get:function(){return["identifier.ts","string.ts"]},enumerable:!0,configurable:!0}),r.prototype.rename=function(e,r,s){return this._worker(function(n){return n.rename(e,r,s)})},r.prototype.getNavigateToItems=function(e){return this._worker(function(r){return r.getNavigateToItems(e)})},r.prototype.runQuickFixAction=function(e,r,s){var n=this,o=this._instantiationService.createInstance(m.QuickFixMainActions);return o.evaluate(e,r,s).then(function(o){return o?o:n.runQuickFixActionInWorker(e,r,s)})},r.prototype.runQuickFixActionInWorker=function(e,r,s){return this._worker(function(n){return n.runQuickFixAction(e,r,s)})},r.prototype.getQuickFixes=function(e,r){return this._worker(function(s){return s.getQuickFixes(e,r)})},r.prototype.getRangesToPosition=function(e,r){return this._worker(function(s){return s.getRangesToPosition(e,r)})},r.prototype.findDeclaration=function(e,r){return this._worker(function(s){return s.findDeclaration(e,r)})},r.prototype.findTypeDeclaration=function(e,r){return this._worker(function(s){return s.findTypeDeclaration(e,r)})},r.prototype.computeInfo=function(e,r){return this._worker(function(s){return s.computeInfo(e,r)})},r.prototype.getAutoFormatTriggerCharacters=function(){return[";","}","\n"]},r.prototype.formatDocument=function(e,r){return this._worker(function(s){return s.formatDocument(e,r)})},r.prototype.formatRange=function(e,r,s){return this._worker(function(n){return n.formatRange(e,r,s)})},r.prototype.formatAfterKeystroke=function(e,r,s,n){return this._worker(function(o){return o.formatAfterKeystroke(e,r,s,n)})},r.prototype.enableCodeLens=function(){return this._options&&this._options.referenceInfos===!0},r.prototype.findCodeLensSymbols=function(e){return this._worker(function(r){return r.findCodeLensSymbols(e)})},r.prototype.findCodeLensReferences=function(e,r){return this._worker(function(s){return s.findCodeLensReferences(e,r)})},r.$_acceptProjectDelta=u.AllWorkers(r,r.prototype._acceptProjectDelta),r.$_pickAWorkerToValidate=u.OneWorker(r,r.prototype._pickAWorkerToValidate,r.prototype._joinProjectResolver,c.ThreadAffinity.Group3),r.$getOutline=u.OneWorker(r,r.prototype.getOutline,c.ThreadAffinity.Group1),r.$findOccurrences=u.OneWorker(r,r.prototype.findOccurrences,r.prototype._joinProjectResolver,c.ThreadAffinity.Group2),r.$suggest=u.OneWorker(r,r.prototype.suggest,r.prototype._joinProjectResolver,c.ThreadAffinity.Group2),r.$getSuggestionDetails=u.OneWorker(r,r.prototype.getSuggestionDetails,r.prototype._joinProjectResolver,c.ThreadAffinity.Group2),r.$getParameterHints=u.OneWorker(r,r.prototype.getParameterHints,r.prototype._joinProjectResolver,c.ThreadAffinity.Group2),r.$getEmitOutput=u.OneWorker(r,r.prototype.getEmitOutput,r.prototype._joinProjectResolver,c.ThreadAffinity.Group3),r.WORD_DEFINITION=t.createWordRegExp("$"),r.$findReferences=u.OneWorker(r,r.prototype.findReferences,r.prototype._joinProjectResolver,c.ThreadAffinity.Group3),r.$rename=u.OneWorker(r,r.prototype.rename,r.prototype._joinProjectResolver,c.ThreadAffinity.Group2),r.$getNavigateToItems=u.OneWorker(r,r.prototype.getNavigateToItems,r.prototype._joinProjectResolver,c.ThreadAffinity.Group3),r.$runQuickFixActionInWorker=u.OneWorker(r,r.prototype.runQuickFixActionInWorker,r.prototype._joinProjectResolver,c.ThreadAffinity.Group2),r.$getQuickFixes=u.OneWorker(r,r.prototype.getQuickFixes,r.prototype._joinProjectResolver,c.ThreadAffinity.Group2),r.$getRangesToPosition=u.OneWorker(r,r.prototype.getRangesToPosition,c.ThreadAffinity.Group1),r.$findDeclaration=u.OneWorker(r,r.prototype.findDeclaration,r.prototype._joinProjectResolver,c.ThreadAffinity.Group2),r.$findTypeDeclaration=u.OneWorker(r,r.prototype.findTypeDeclaration,r.prototype._joinProjectResolver,c.ThreadAffinity.Group2),r.$computeInfo=u.OneWorker(r,r.prototype.computeInfo,r.prototype._joinProjectResolver,c.ThreadAffinity.Group2),r.$formatDocument=u.OneWorker(r,r.prototype.formatDocument,c.ThreadAffinity.Group1),r.$formatRange=u.OneWorker(r,r.prototype.formatRange,c.ThreadAffinity.Group1),r.$formatAfterKeystroke=u.OneWorker(r,r.prototype.formatAfterKeystroke,c.ThreadAffinity.Group1),r.findCodeLensSymbols=u.OneWorker(r,r.prototype.findCodeLensSymbols,c.ThreadAffinity.Group1),r.findCodeLensReferences=u.OneWorker(r,r.prototype.findCodeLensReferences,r.prototype._joinProjectResolver,c.ThreadAffinity.Group3),r}(t.AbstractMode);r.TypeScriptMode=b}),define("vs/languages/javascript/javascript.extensions",["require","exports","vs/platform/platform"],function(e,r,s){var n;!function(e){function r(e){o=e}function n(){return o}e.Identifier="javascript",s.Registry.add(e.Identifier,e);var o;e.setProjectResolver=r,e.getProjectResolver=n}(n=r.Extensions||(r.Extensions={}))});var __extends=this.__extends||function(e,r){function s(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);s.prototype=r.prototype,e.prototype=new s};define("vs/languages/javascript/javascript",["require","exports","vs/base/lib/winjs.base","vs/editor/modes/modesExtensions","vs/platform/services","vs/languages/typescript/features/tokenization","vs/languages/typescript/typescriptMode","vs/editor/modes/supports","vs/languages/javascript/javascript.extensions"],function(e,r,s,n,o,t,a,i,l){var c=function(r){function a(e,s){var n=this;r.call(this,e,s),this._workerDescriptor=o.AsyncDescriptor.create("vs/languages/javascript/javascriptWorker","JavaScriptWorker"),this.referenceSupport=new i.ReferenceSupport(this,{tokens:["identifier.js"],findReferences:function(e,r,s){return n.findReferences(e,r,s)}}),this.declarationSupport=new i.DeclarationSupport(this,{tokens:["identifier.js","string.js","attribute.value.vs"],findDeclaration:function(e,r){return n.findDeclaration(e,r)}}),this.typeDeclarationSupport=void 0,this.emitOutputSupport=void 0,this.parameterHintsSupport=new i.ParameterHintsSupport(this,{triggerCharacters:["(",","],excludeTokens:["string.js","string.escape.js"],getParameterHints:function(e,r){return n.getParameterHints(e,r)}}),this.tokenizationSupport=t.createTokenizationSupport(this,t.Language.EcmaScript5),this.electricCharacterSupport=new i.BracketElectricCharacterSupport(this,{brackets:[{tokenType:"delimiter.bracket.js",open:"{",close:"}",isElectric:!0},{tokenType:"delimiter.array.js",open:"[",close:"]",isElectric:!0},{tokenType:"delimiter.parenthesis.js",open:"(",close:")",isElectric:!0}],docComment:{scope:"comment.doc",open:"/**",lineStart:" * ",close:" */"}}),this.characterPairSupport=new i.CharacterPairSupport(this,{autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}]}),this.suggestSupport=new i.SuggestSupport(this,{triggerCharacters:["."],excludeTokens:["string","comment","number"],sortBy:[{type:"reference",partSeparator:"/"}],suggest:function(e,r){return n.suggest(e,r)},getSuggestionDetails:function(e,r,s){return n.getSuggestionDetails(e,r,s)}})}return __extends(a,r),a.prototype.asyncCtor=function(){var r=this;return this._threadService.isInMainThread?s.Promise.as(this):new s.Promise(function(s){e(["vs/languages/typescript/typescriptWorker2"],function(){s(r)})})},a.prototype._worker=function(e){return r.prototype._worker.call(this,e)},a.prototype._getProjectResolverDescription=function(){return l.Extensions.getProjectResolver()},a.prototype.getNonWordTokenTypes=function(){return["delimiter.js","delimiter.parenthesis.js","delimiter.bracket.js","delimiter.array.js","regexp.js"]},a.prototype.getCommentsConfiguration=function(){return{lineCommentTokens:["//"],blockCommentStartToken:"/*",blockCommentEndToken:"*/"}},a.prototype.getWordDefinition=function(){return a.JS_WORD_DEFINITION},a.JS_WORD_DEFINITION=n.createWordRegExp("$"),a}(a.TypeScriptMode);r.JSMode=c});