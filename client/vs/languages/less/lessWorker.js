/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
"use strict";var __extends=this.__extends||function(e,r){function s(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);s.prototype=r.prototype,e.prototype=new s};define("vs/languages/less/parser/lessScanner",["require","exports","vs/languages/css/parser/cssScanner"],function(e,r,s){var n=("%".charCodeAt(0),"(".charCodeAt(0),"/".charCodeAt(0)),o="\n".charCodeAt(0),t="\r".charCodeAt(0),a="\f".charCodeAt(0),i="`".charCodeAt(0),l=".".charCodeAt(0),c=s.TokenType.CustomToken;r.Ellipsis=c++;var d=function(e){function c(){e.apply(this,arguments)}return __extends(c,e),c.prototype.scan=function(n){void 0===n&&(n=!0);var o={type:void 0,text:void 0,offset:this.stream.pos(),len:0};if(this.lessComment())return this.ignoreComment?this.scan(n):this.finishToken(o,s.TokenType.SingleLineComment);var t=this.escapedJavaScript();return null!==t?this.finishToken(o,t):this.stream.advanceIfChars([l,l,l])?this.finishToken(o,r.Ellipsis):e.prototype.scan.call(this,n)},c.prototype.lessComment=function(){return this.stream.advanceIfChars([n,n])?(this.stream.advanceWhileChar(function(e){switch(e){case o:case t:case a:return!1;default:return!0}}),!0):!1},c.prototype.escapedJavaScript=function(){var e=this.stream.peekChar();return e===i?(this.stream.advance(1),this.stream.advanceWhileChar(function(e){return e!==i}),this.stream.advanceIfChar(i)?s.TokenType.EscapedJavaScript:s.TokenType.BadEscapedJavaScript):null},c}(s.Scanner);r.LessScanner=d});var __extends=this.__extends||function(e,r){function s(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);s.prototype=r.prototype,e.prototype=new s};define("vs/languages/less/parser/lessParser",["require","exports","./lessScanner","vs/languages/css/parser/cssScanner","vs/languages/css/parser/cssParser","vs/languages/css/parser/cssNodes","vs/languages/css/parser/cssErrors"],function(e,r,s,n,o,t,a){var i=function(e){function r(){e.call(this,new s.LessScanner)}return __extends(r,e),r.prototype._parseStylesheetStatement=function(){return this._tryParseMixinDeclaration()||e.prototype._parseStylesheetStatement.call(this)||this._parseVariableDeclaration()},r.prototype._parseImport=function(){var e=this.create(t.Import);if(!this.accept(n.TokenType.AtKeyword,"@import")&&!this.accept(n.TokenType.AtKeyword,"@import-once"))return null;if(this.accept(n.TokenType.ParenthesisL)){if(!this.accept(n.TokenType.Ident))return this.finish(e,a.ParseError.IdentifierExpected,[n.TokenType.SemiColon]);if(!this.accept(n.TokenType.ParenthesisR))return this.finish(e,a.ParseError.RightParenthesisExpected,[n.TokenType.SemiColon])}return this.accept(n.TokenType.URI)||this.accept(n.TokenType.String)?(e.setMedialist(this._parseMediaList()),this.finish(e)):this.finish(e,a.ParseError.URIOrStringExpected,[n.TokenType.SemiColon])},r.prototype._parseVariableDeclaration=function(e){void 0===e&&(e=[]);var r=this.create(t.VariableDeclaration),s=this.mark();return r.setVariable(this._parseVariable())?this.accept(n.TokenType.Colon,":")?(r.colonPosition=this.prevToken.offset,r.setValue(this._parseExpr())?this.finish(r):this.finish(r,a.ParseError.VariableValueExpected,[],e)):(this.restoreAtMark(s),null):null},r.prototype._parseVariable=function(){var e=this.create(t.Variable);return this.accept(n.TokenType.AtKeyword)?e:null},r.prototype._parseTerm=function(){var r=e.prototype._parseTerm.call(this);return r?r:(r=this.create(t.Term),r.setExpression(this._parseVariable())||r.setExpression(this._parseEscaped())||r.setExpression(this._parseOperation())?this.finish(r):null)},r.prototype._parseEscaped=function(){var e=this.createNode(t.NodeType.EscapedValue);return this.accept(n.TokenType.EscapedJavaScript)||this.accept(n.TokenType.BadEscapedJavaScript)?this.finish(e):this.accept(n.TokenType.Delim,"~")?this.finish(e,this.accept(n.TokenType.String)?null:a.ParseError.TermExpected):null},r.prototype._parseOperation=function(){var e=this.create(t.Node);return this.accept(n.TokenType.ParenthesisL)?(e.addChild(this._parseExpr()),this.accept(n.TokenType.ParenthesisR)?this.finish(e):this.finish(e,a.ParseError.RightParenthesisExpected)):null},r.prototype._parseOperator=function(){var r=this._parseGuardOperator();return r?r:e.prototype._parseOperator.call(this)},r.prototype._parseGuardOperator=function(){var e=this.createNode(t.NodeType.Operator);return this.accept(n.TokenType.Delim,">")?(this.accept(n.TokenType.Delim,"="),e):this.accept(n.TokenType.Delim,"=")?(this.accept(n.TokenType.Delim,"<"),e):this.accept(n.TokenType.Delim,"<")?e:null},r.prototype._parseRuleSetDeclaration=function(){return this.peek(n.TokenType.AtKeyword)?this._parseKeyframe()||this._parseMedia()||this._parseVariableDeclaration():this._tryParseMixinDeclaration()||this._tryParseRuleset(!0)||this._parseMixinReference()||this._parseDeclaration()},r.prototype._parseSimpleSelectorBody=function(){return this._parseSelectorCombinator()||e.prototype._parseSimpleSelectorBody.call(this)},r.prototype._parseSelectorCombinator=function(){var e=this.createNode(t.NodeType.SelectorCombinator);return this.accept(n.TokenType.Delim,"&")?this.finish(e):null},r.prototype._parseSelectorIdent=function(){return this._parseIdent()||this._parseSelectorInterpolation()},r.prototype._parseSelectorInterpolation=function(){var e=this.createNode(t.NodeType.SelectorInterpolation);return this.accept(n.TokenType.Delim,"~")?this.hasWhitespace()||!this.accept(n.TokenType.String)&&!this.accept(n.TokenType.BadString)?this.finish(e,a.ParseError.StringLiteralExpected):this.finish(e):this.accept(n.TokenType.Delim,"@")?this.hasWhitespace()||!this.accept(n.TokenType.CurlyL)?this.finish(e,a.ParseError.LeftCurlyExpected):e.addChild(this._parseIdent())?this.accept(n.TokenType.CurlyR)?this.finish(e):this.finish(e,a.ParseError.RightCurlyExpected):this.finish(e,a.ParseError.IdentifierExpected):null},r.prototype._tryParseMixinDeclaration=function(){if(!this.peek(n.TokenType.Delim,"."))return null;var e=this.mark(),r=this.create(t.MixinDeclaration);if(!r.setIdentifier(this._parseMixinDeclarationIdentifier())||!this.accept(n.TokenType.ParenthesisL))return this.restoreAtMark(e),null;if(r.getParameters().addChild(this._parseMixinParameter()))for(;this.accept(n.TokenType.Comma)||this.accept(n.TokenType.SemiColon);)if(!r.getParameters().addChild(this._parseMixinParameter()))return this.finish(r,a.ParseError.IdentifierExpected);return this.accept(n.TokenType.ParenthesisR)?(r.setGuard(this._parseGuard()),this.peek(n.TokenType.CurlyL)?this._parseBody(r,this._parseRuleSetDeclaration.bind(this)):(this.restoreAtMark(e),null)):this.finish(r,a.ParseError.RightParenthesisExpected)},r.prototype._parseMixinDeclarationIdentifier=function(){var e=this.create(t.Identifier);return this.consumeToken(),this.hasWhitespace()||!this.accept(n.TokenType.Ident)?null:(e.referenceTypes=[t.ReferenceType.Mixin],this.finish(e))},r.prototype._parseMixinReference=function(){if(!this.peek(n.TokenType.Delim,"."))return null;var e=this.create(t.MixinReference),r=this.create(t.Identifier);if(this.consumeToken(),this.hasWhitespace()||!this.accept(n.TokenType.Ident))return this.finish(e,a.ParseError.IdentifierExpected);if(e.setIdentifier(this.finish(r)),!this.hasWhitespace()&&this.accept(n.TokenType.ParenthesisL)){if(e.getArguments().addChild(this._parseFunctionArgument()))for(;this.accept(n.TokenType.Comma)||this.accept(n.TokenType.SemiColon);)if(!e.getArguments().addChild(this._parseExpr()))return this.finish(e,a.ParseError.ExpressionExpected);if(!this.accept(n.TokenType.ParenthesisR))return this.finish(e,a.ParseError.RightParenthesisExpected);r.referenceTypes=[t.ReferenceType.Mixin]}else{if(!this.accept(n.TokenType.SemiColon))return this.finish(e,a.ParseError.SemiColonExpected);r.referenceTypes=[t.ReferenceType.Mixin,t.ReferenceType.Rule]}return this.finish(e)},r.prototype._parseMixinParameter=function(){var e=this.create(t.FunctionParameter);if(this.peek(n.TokenType.AtKeyword,"@rest")){var r=this.create(t.Node);return this.consumeToken(),this.accept(s.Ellipsis)?(e.setIdentifier(this.finish(r)),this.finish(e)):this.finish(e,a.ParseError.DotExpected,[],[n.TokenType.Comma,n.TokenType.ParenthesisR])}if(this.peek(s.Ellipsis)){var o=this.create(t.Node);return this.consumeToken(),e.setIdentifier(this.finish(o)),this.finish(e)}return e.setIdentifier(this._parseVariable())&&this.accept(n.TokenType.Colon),e.setDefaultValue(this._parseExpr(!0)),this.finish(e)},r.prototype._parseGuard=function(){var e=this.create(t.LessGuard);if(!this.accept(n.TokenType.Ident,"when"))return null;if(e.isNegated=this.accept(n.TokenType.Ident,"not"),!e.getConditions().addChild(this._parseGuardCondition()))return this.finish(e,a.ParseError.ConditionExpected);for(;this.accept(n.TokenType.Ident,"and")||this.accept(n.TokenType.Comma,",");)if(!e.getConditions().addChild(this._parseGuardCondition()))return this.finish(e,a.ParseError.ConditionExpected);return this.finish(e)},r.prototype._parseGuardCondition=function(){var e=this.create(t.GuardCondition);return this.accept(n.TokenType.ParenthesisL)?(!e.addChild(this._parseExpr()),this.accept(n.TokenType.ParenthesisR)?this.finish(e):this.finish(e,a.ParseError.RightParenthesisExpected)):null},r.prototype._parseFunctionIdentifier=function(){if(this.peek(n.TokenType.Delim,"%")){var r=this.create(t.Identifier);return r.referenceTypes=[t.ReferenceType.Function],this.consumeToken(),this.finish(r)}return e.prototype._parseFunctionIdentifier.call(this)},r}(o.Parser);r.LessParser=i});var __extends=this.__extends||function(e,r){function s(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);s.prototype=r.prototype,e.prototype=new s};define("vs/languages/less/services/intelliSense",["require","exports","vs/languages/css/services/intelliSense","vs/nls!vs/languages/less/lessWorker"],function(e,r,s,n){var o=function(e){function r(){e.call(this,"@")}return __extends(r,e),r.prototype.createFunctionProposals=function(e,r){return e.forEach(function(e){r.push({label:e.name,typeLabel:e.example,documentationLabel:e.description,codeSnippet:e.name+"({{}})",type:"function"})}),r},r.prototype.getTermProposals=function(s){return this.createFunctionProposals(r.builtInProposals,s),e.prototype.getTermProposals.call(this,s)},r.prototype.getColorProposals=function(s,n){return this.createFunctionProposals(r.colorProposals,n),e.prototype.getColorProposals.call(this,s,n)},r.builtInProposals=[{name:"escape",example:"escape(@string);",description:n.localize("vs_languages_less_services_intelliSense",0)},{name:"e",example:"e(@string);",description:n.localize("vs_languages_less_services_intelliSense",1)},{name:"replace",example:"replace(@string, @pattern, @replacement[, @flags]);",description:n.localize("vs_languages_less_services_intelliSense",2)},{name:"unit",example:"unit(@dimension, [@unit: '']);",description:n.localize("vs_languages_less_services_intelliSense",3)},{name:"color",example:"color(@string);",description:n.localize("vs_languages_less_services_intelliSense",4)},{name:"convert",example:"convert(@value, unit);",description:n.localize("vs_languages_less_services_intelliSense",5)},{name:"data-uri",example:"data-uri([mimetype,] url);",description:n.localize("vs_languages_less_services_intelliSense",6)},{name:"length",example:"length(@list);",description:n.localize("vs_languages_less_services_intelliSense",7)},{name:"extract",example:"extract(@list, index);",description:n.localize("vs_languages_less_services_intelliSense",8)},{name:"abs",description:n.localize("vs_languages_less_services_intelliSense",9),example:"abs(number);"},{name:"acos",description:n.localize("vs_languages_less_services_intelliSense",10),example:"acos(number);"},{name:"asin",description:n.localize("vs_languages_less_services_intelliSense",11),example:"asin(number);"},{name:"ceil",example:"ceil(@number);",description:n.localize("vs_languages_less_services_intelliSense",12)},{name:"cos",description:n.localize("vs_languages_less_services_intelliSense",13),example:"cos(number);"},{name:"floor",description:n.localize("vs_languages_less_services_intelliSense",14),example:"floor(@number);"},{name:"percentage",description:n.localize("vs_languages_less_services_intelliSense",15),example:"percentage(@number);"},{name:"round",description:n.localize("vs_languages_less_services_intelliSense",16),example:"round(number, [places: 0]);"},{name:"sqrt",description:n.localize("vs_languages_less_services_intelliSense",17),example:"sqrt(number);"},{name:"sin",description:n.localize("vs_languages_less_services_intelliSense",18),example:"sin(number);"},{name:"tan",description:n.localize("vs_languages_less_services_intelliSense",19),example:"tan(number);"},{name:"atan",description:n.localize("vs_languages_less_services_intelliSense",20),example:"atan(number);"},{name:"pi",description:n.localize("vs_languages_less_services_intelliSense",21),example:"pi();"},{name:"pow",description:n.localize("vs_languages_less_services_intelliSense",22),example:"pow(@base, @exponent);"},{name:"mod",description:n.localize("vs_languages_less_services_intelliSense",23),example:"mod(number, number);"},{name:"min",description:n.localize("vs_languages_less_services_intelliSense",24),example:"min(@x, @y);"},{name:"max",description:n.localize("vs_languages_less_services_intelliSense",25),example:"max(@x, @y);"}],r.colorProposals=[{name:"argb",example:"argb(@color);",description:n.localize("vs_languages_less_services_intelliSense",26)},{name:"hsl",example:"hsl(@hue, @saturation, @lightness);",description:n.localize("vs_languages_less_services_intelliSense",27)},{name:"hsla",example:"hsla(@hue, @saturation, @lightness, @alpha);",description:n.localize("vs_languages_less_services_intelliSense",28)},{name:"hsv",example:"hsv(@hue, @saturation, @value);",description:n.localize("vs_languages_less_services_intelliSense",29)},{name:"hsva",example:"hsva(@hue, @saturation, @value, @alpha);",description:n.localize("vs_languages_less_services_intelliSense",30)},{name:"hue",example:"hue(@color);",description:n.localize("vs_languages_less_services_intelliSense",31)},{name:"saturation",example:"saturation(@color);",description:n.localize("vs_languages_less_services_intelliSense",32)},{name:"lightness",example:"lightness(@color);",description:n.localize("vs_languages_less_services_intelliSense",33)},{name:"hsvhue",example:"hsvhue(@color);",description:n.localize("vs_languages_less_services_intelliSense",34)},{name:"hsvsaturation",example:"hsvsaturation(@color);",description:n.localize("vs_languages_less_services_intelliSense",35)},{name:"hsvvalue",example:"hsvvalue(@color);",description:n.localize("vs_languages_less_services_intelliSense",36)},{name:"red",example:"red(@color);",description:n.localize("vs_languages_less_services_intelliSense",37)},{name:"green",example:"green(@color);",description:n.localize("vs_languages_less_services_intelliSense",38)},{name:"blue",example:"blue(@color);",description:n.localize("vs_languages_less_services_intelliSense",39)},{name:"alpha",example:"alpha(@color);",description:n.localize("vs_languages_less_services_intelliSense",40)},{name:"luma",example:"luma(@color);",description:n.localize("vs_languages_less_services_intelliSense",41)},{name:"saturate",example:"saturate(@color, 10%);",description:n.localize("vs_languages_less_services_intelliSense",42)},{name:"desaturate",example:"desaturate(@color, 10%);",description:n.localize("vs_languages_less_services_intelliSense",43)},{name:"lighten",example:"lighten(@color, 10%);",description:n.localize("vs_languages_less_services_intelliSense",44)},{name:"darken",example:"darken(@color, 10%);",description:n.localize("vs_languages_less_services_intelliSense",45)},{name:"fadein",example:"fadein(@color, 10%);",description:n.localize("vs_languages_less_services_intelliSense",46)},{name:"fadeout",example:"fadeout(@color, 10%);",description:n.localize("vs_languages_less_services_intelliSense",47)},{name:"fade",example:"fade(@color, 50%);",description:n.localize("vs_languages_less_services_intelliSense",48)},{name:"spin",example:"spin(@color, 10);",description:n.localize("vs_languages_less_services_intelliSense",49)},{name:"mix",example:"mix(@color1, @color2, [@weight: 50%]);",description:n.localize("vs_languages_less_services_intelliSense",50)},{name:"greyscale",example:"greyscale(@color);",description:n.localize("vs_languages_less_services_intelliSense",51)},{name:"contrast",example:"contrast(@color1, [@darkcolor: black], [@lightcolor: white], [@threshold: 43%]);",description:n.localize("vs_languages_less_services_intelliSense",52)},{name:"multiply",example:"multiply(@color1, @color2);"},{name:"screen",example:"screen(@color1, @color2);"},{name:"overlay",example:"overlay(@color1, @color2);"},{name:"softlight",example:"softlight(@color1, @color2);"},{name:"hardlight",example:"hardlight(@color1, @color2);"},{name:"difference",example:"difference(@color1, @color2);"},{name:"exclusion",example:"exclusion(@color1, @color2);"},{name:"average",example:"average(@color1, @color2);"},{name:"negation",example:"negation(@color1, @color2);"}],r}(s.CSSIntellisense);r.LESSIntellisense=o});var __extends=this.__extends||function(e,r){function s(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);s.prototype=r.prototype,e.prototype=new s};define("vs/languages/less/lessWorker",["require","exports","vs/languages/css/cssWorker","./parser/lessParser","./services/intelliSense"],function(e,r,s,n,o){var t=function(e){function r(r,s,n){e.call(this,r,s,n)}return __extends(r,e),r.prototype.createIntellisense=function(){return new o.LESSIntellisense},r.prototype.createParser=function(){return new n.LessParser},r}(s.CSSWorker);r.LessWorker=t});