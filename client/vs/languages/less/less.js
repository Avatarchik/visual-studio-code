/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
"use strict";var __extends=this.__extends||function(e,r){function s(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);s.prototype=r.prototype,e.prototype=new s};define("vs/languages/less/less",["require","exports","vs/base/lib/winjs.base","vs/editor/modes/modesExtensions","vs/editor/modes/monarch/monarch","vs/editor/modes/monarch/monarchCompile","vs/platform/thread/attribute","vs/editor/modes/supports"],function(e,r,s,n,o,t,a,i){r.language={displayName:"LESS",name:"less",mimeTypes:["text/x-less"],fileExtensions:[".less"],workerDescriptor:{moduleName:"vs/languages/less/lessWorker",ctorName:"LessWorker"},nonWordTokens:["delimiter.curly.less","delimiter.bracket.less","delimiter.parenthesis.less","delimiter.angle.less"],wordDefinition:/(#?-?\d*\.\d\w*%?)|([@#!.:]?[\w-?]+%?)|[@#!.]/g,defaultToken:"",lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],tokenizer:{root:[{include:"@nestedJSBegin"},["[ \\t\\r\\n]+",""],{include:"@comments"},{include:"@keyword"},{include:"@strings"},{include:"@numbers"},["[*_]?[a-zA-Z\\-\\s]+(?=:.*(;|(\\\\$)))","attribute.name","@attribute"],{include:"@operators"},["[{}()\\[\\]]","@brackets"],["[,:;]","delimiter"],["#[\\w\\-.:]+","tag.id"],["&","identifier"],["\\.[\\w\\-.:]+(?=\\()","tag.class","@attribute"],["\\.[\\w\\-.:]+","tag.class"],["[\\w\\-.:]+","tag"],["@[\\w\\-]+(?=[:,\\)])","variable","@attribute"],["@[\\w\\-]+","variable"],["@","key","@atRules"]],nestedJSBegin:[["``","delimiter.backtick"],["`",{token:"delimiter.backtick",bracket:"@open",next:"@nestedJSEnd",nextEmbedded:"text/javascript"}]],nestedJSEnd:[["`",{token:"delimiter.backtick",bracket:"@close",next:"@pop"}],[".",{token:"@rematch",next:"@javascript_block"}]],javascript_block:[["`",{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]],operators:[["[<>=\\+\\-\\*\\/\\^\\|\\~]","operator"]],keyword:[["(@[\\s]*import|![\\s]*important|true|false|when|iscolor|isnumber|isstring|iskeyword|isurl|ispixel|ispercentage|isem|hue|saturation|lightness|alpha|lighten|darken|saturate|desaturate|fadein|fadeout|fade|spin|mix|round|ceil|floor|percentage)\\b","keyword"]],attribute:[{include:"@nestedJSBegin"},{include:"@comments"},{include:"@strings"},{include:"@numbers"},{include:"@keyword"},["[a-zA-Z\\-]+(?=\\()","attribute.value","@attribute"],[">","operator","@pop"],["\\w+\\-\\w+","attribute.value"],{include:"@operators"},["@[\\w\\-]+","variable"],["[)\\}]","@brackets","@pop"],["[{}()\\[\\]>]","@brackets"],["[;]","delimiter","@pop"],["[,=:]","delimiter"],["\\s",""],["\\w+","attribute.value"],[".","attribute.value"]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[".","comment"]],numbers:[["(\\d*\\.)?\\d+([eE][\\-+]?\\d+)?",{token:"attribute.value.number",next:"@units"}],["#[0-9a-fA-F_]+(?!\\w)","attribute.value.hex"]],units:[["((em|ex|ch|rem|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)\\b)?","attribute.value.unit","@pop"]],strings:[['~?"',{token:"string.delimiter",bracket:"@open",next:"@stringsEndDoubleQuote"}],["~?'",{token:"string.delimiter",bracket:"@open",next:"@stringsEndQuote"}]],stringsEndDoubleQuote:[['\\\\"',"string"],['"',{token:"string.delimiter",next:"@popall",bracket:"@close"}],[".","string"]],stringsEndQuote:[["\\\\'","string"],["'",{token:"string.delimiter",next:"@popall",bracket:"@close"}],[".","string"]],atRules:[{include:"@comments"},{include:"@strings"},["[()]","delimiter"],["[\\{;]","delimiter","@pop"],[".","key"]]}};var l=function(e){function o(s,n){var o=this;e.call(this,s,n,t.compile(r.language)),this.extraInfoSupport=this,this.referenceSupport=new i.ReferenceSupport(this,{tokens:["attribute.name.less","attribute.value.less","variable.less","tag.class.less","tag.id.less","tag.less"],findReferences:function(e,r){return o.findReferences(e,r)}}),this.logicalSelectionSupport=this,this.declarationSupport=new i.DeclarationSupport(this,{tokens:["variable.less","tag.class.less","tag.id.less","tag.less"],findDeclaration:function(e,r){return o.findDeclaration(e,r)}}),this.outlineSupport=this,this.suggestSupport=new i.SuggestSupport(this,{triggerCharacters:[],excludeTokens:["comment.less","string.less"],suggest:function(e,r){return o.suggest(e,r)}})}return __extends(o,e),o.prototype._worker=function(r){var o=this;return n.getOrCreateMode("css").then(function(e){return e._worker(function(){return s.TPromise.as(!0)})}).then(function(){return e.prototype._worker.call(o,r)})},o.prototype.findReferences=function(e,r){return this._worker(function(s){return s.findReferences(e,r)})},o.prototype.getRangesToPosition=function(e,r){return this._worker(function(s){return s.getRangesToPosition(e,r)})},o.prototype.computeInfo=function(e,r){return this._worker(function(s){return s.computeInfo(e,r)})},o.prototype.getOutline=function(e){return this._worker(function(r){return r.getOutline(e)})},o.prototype.findDeclaration=function(e,r){return this._worker(function(s){return s.findDeclaration(e,r)})},o.prototype.findColorDeclarations=function(e){return this._worker(function(r){return r.findColorDeclarations(e)})},o.$findReferences=a.OneWorker(o,o.prototype.findReferences),o.$getRangesToPosition=a.OneWorker(o,o.prototype.getRangesToPosition),o.$computeInfo=a.OneWorker(o,o.prototype.computeInfo),o.$getOutline=a.OneWorker(o,o.prototype.getOutline),o.$findDeclaration=a.OneWorker(o,o.prototype.findDeclaration),o.$findColorDeclarations=a.OneWorker(o,o.prototype.findColorDeclarations),o}(o.MonarchMode);r.LESSMode=l});