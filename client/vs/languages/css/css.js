/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
"use strict";var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/css/css",["require","exports","vs/editor/modes/modes","vs/editor/modes/supports","vs/editor/modes/modesExtensions","vs/base/objects","vs/platform/services","vs/platform/thread/attribute"],function(e,t,n,r,i,o,s,a){!function(e){e[e.Selector=0]="Selector",e[e.Rule=1]="Rule",e[e.Value=2]="Value",e[e.ValuePostUrl=3]="ValuePostUrl",e[e.ValueInUrlFunction=4]="ValueInUrlFunction",e[e.Unit=5]="Unit",e[e.Meta=6]="Meta"}(t.States||(t.States={}));var u=t.States,c=function(e){function t(t,n,r,i,o,s){e.call(this,t),this.kind=n,this.inComment=r,this.quote=i,this.inMeta=o,this.metaBraceCount=s}return __extends(t,e),t.prototype.nextState=function(e,t){return this.kind=e,t},t.prototype.makeClone=function(){return new t(this.getMode(),this.kind,this.inComment,this.quote,this.inMeta,this.metaBraceCount)},t.prototype.equals=function(t){return e.prototype.equals.call(this,t)&&o.equals(this,t)},t.prototype.tokenizeInComment=function(e){return/\*\/$/.test(e.advanceUntilString("*/",!0))&&(this.inComment=!1),{type:"comment.css"}},t.prototype.tokenizeInString=function(e){for(var t,n=!1,r=this.quote;!e.eos();)if(t=e.next(),n)n=!1;else if("\\"===t)n=!0;else if(t===r){this.quote=null;break}return{type:"string.css"}},t.prototype.tokenize=function(e){if(this.inComment)return this.tokenizeInComment(e);if(null!==this.quote)return this.tokenizeInString(e);if(e.skipWhitespace2())return{type:""};if(e.advanceIfString2("/*"))return this.inComment=!0,this.tokenizeInComment(e);if(e.advanceIfString2("'"))return this.quote="'",this.tokenizeInString(e);if(e.advanceIfString2('"'))return this.quote='"',this.tokenizeInString(e);var t=e.next();if(this.kind===u.ValuePostUrl){if("("===t)return this.nextState(u.ValueInUrlFunction,{type:"delimiter.parenthesis.css",bracket:n.Bracket.Open});this.kind=u.Value}else if(this.kind===u.ValueInUrlFunction){if(")"!==t)return e.advanceIfRegExp2(/^[^\)]*/),{type:"string.css"};this.kind=u.Value}switch(this.kind){case u.Selector:return"{"===t?this.nextState(u.Rule,{type:"delimiter.bracket.css",bracket:n.Bracket.Open}):"("===t||")"===t?{type:"delimiter.parenthesis.css",bracket:"("===t?n.Bracket.Open:n.Bracket.Close}:"@"!==t||this.inMeta?"}"===t&&this.inMeta?(this.inMeta=!1,this.nextState(u.Selector,{type:"delimiter.bracket.css",bracket:n.Bracket.Close})):/[\*\(\)\[\]\+>=\~\|;]/.test(t)?{type:"delimiter.css"}:"#"===t?(e.advanceIfRegExp2(/^[\w\-]*/),{type:"tag.css"}):(e.advanceIfRegExp2(/^[\w\-]*/),{type:"tag.css"}):(e.advanceIfRegExp2(/^[\w\-]*/),this.nextState(u.Meta,{type:"keyword.css"}));case u.Meta:if("{"===t){var r=u.Rule;return this.inMeta&&(r=u.Selector),this.nextState(r,{type:"delimiter.bracket.css",bracket:n.Bracket.Open})}return"("===t||")"===t?{type:"delimiter.parenthesis.css",bracket:"("===t?n.Bracket.Open:n.Bracket.Close}:";"===t?(0===this.metaBraceCount&&(this.inMeta=!1),this.nextState(u.Selector,{type:"delimiter.css"})):/[\*\(\)\[\]\+>=\~\|]/.test(t)?{type:"delimiter.css"}:(this.inMeta=!0,e.advanceIfRegExp2(/^[\w\-]*/),{type:"attribute.value.css"});case u.Rule:return"}"===t?this.nextState(u.Selector,{type:"delimiter.bracket.css",bracket:n.Bracket.Close}):":"===t?this.nextState(u.Value,{type:"delimiter.css"}):"("===t||")"===t?{type:"delimiter.parenthesis.css",bracket:"("===t?n.Bracket.Open:n.Bracket.Close}:(e.advanceIfRegExp2(/^[\w\-]*/),{type:"attribute.name.css"});case u.Value:if("}"===t)return this.nextState(u.Selector,{type:"delimiter.bracket.css",bracket:n.Bracket.Close});if(";"===t)return this.nextState(u.Rule,{type:"delimiter.css"});if(("u"===t||"U"===t)&&e.advanceIfStringCaseInsensitive2("rl"))return this.nextState(u.ValuePostUrl,{type:"attribute.value.css"});if("("===t||")"===t)return{type:"delimiter.parenthesis.css",bracket:"("===t?n.Bracket.Open:n.Bracket.Close};if(","===t)return{type:"delimiter.css"};if("#"===t)return e.advanceIfRegExp2(/^[\w]*/),{type:"attribute.value.hex.css"};if(/\d/.test(t)||/-|\+/.test(t)&&!e.eos()&&/\d/.test(e.peek()))return e.advanceIfRegExp2(/^[\d\.]*/),this.nextState(u.Unit,{type:"attribute.value.number.css"});if("!"===t)return{type:"keyword.css"};if(("i"===t||"I"===t)&&e.advanceIfStringCaseInsensitive2("mportant"))return{type:"keyword.css"};if(e.advanceIfRegExp2(/^[\w\-]*/))return{type:"attribute.value.css"};break;case u.Unit:return e.goBack(1),e.advanceIfRegExp2(/^(em|ex|ch|rem|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)/)?{type:"attribute.value.unit.css"}:(this.nextState(u.Value,null),this.tokenize(e))}return{type:""}},t}(i.AbstractState);t.State=c;var l=function(e){function t(t,n){var i=this;e.call(this,t,n,s.AsyncDescriptor.create("vs/languages/css/cssWorker","CSSWorker")),this.tokenizationSupport=new r.TokenizationSupport(this,{getInitialState:function(){return new c(i,u.Selector,!1,null,!1,0)}},!1),this.electricCharacterSupport=new r.BracketElectricCharacterSupport(this,{brackets:[{tokenType:"delimiter.bracket.css",open:"{",close:"}",isElectric:!0}]}),this.extraInfoSupport=this,this.referenceSupport=new r.ReferenceSupport(this,{tokens:["attribute.name.css","attribute.value.css","tag.css"],findReferences:function(e,t){return i.findReferences(e,t)}}),this.logicalSelectionSupport=this,this.outlineSupport=this,this.declarationSupport=new r.DeclarationSupport(this,{tokens:["attribute.value.css"],findDeclaration:function(e,t){return i.findDeclaration(e,t)}}),this.characterPairSupport=new r.CharacterPairSupport(this,{autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string"]}]}),this.suggestSupport=new r.SuggestSupport(this,{triggerCharacters:[" ",":"],excludeTokens:["comment.css","string.css"],suggest:function(e,t){return i.suggest(e,t)}}),this.quickFixSupport=this}return __extends(t,e),t.prototype._worker=function(t){return e.prototype._worker.call(this,t)},t.prototype.findDeclaration=function(e,t){return this._worker(function(n){return n.findDeclaration(e,t)})},t.prototype.computeInfo=function(e,t){return this._worker(function(n){return n.computeInfo(e,t)})},t.prototype.findReferences=function(e,t){return this._worker(function(n){return n.findReferences(e,t)})},t.prototype.getRangesToPosition=function(e,t){return this._worker(function(n){return n.getRangesToPosition(e,t)})},t.prototype.getOutline=function(e){return this._worker(function(t){return t.getOutline(e)})},t.prototype.getNonWordTokenTypes=function(){return["delimiter.css","delimiter.parenthesis.css","delimiter.bracket.css"]},t.prototype.getCommentsConfiguration=function(){return{blockCommentStartToken:"/*",blockCommentEndToken:"*/"}},t.prototype.getWordDefinition=function(){return/(#?-?\d*\.\d\w*%?)|([@#.:!]?[\w-?]+%?)|[@#.!]/g},t.prototype.findColorDeclarations=function(e){return this._worker(function(t){return t.findColorDeclarations(e)})},t.prototype.getQuickFixes=function(e,t){return this._worker(function(n){return n.getQuickFixes(e,t)})},t.prototype.runQuickFixAction=function(e,t,n){return this._worker(function(r){return r.runQuickFixAction(e,t,n)})},t.$findDeclaration=a.OneWorker(t,t.prototype.findDeclaration),t.$computeInfo=a.OneWorker(t,t.prototype.computeInfo),t.$findReferences=a.OneWorker(t,t.prototype.findReferences),t.$getRangesToPosition=a.OneWorker(t,t.prototype.getRangesToPosition),t.$getOutline=a.OneWorker(t,t.prototype.getOutline),t.$findColorDeclarations=a.OneWorker(t,t.prototype.findColorDeclarations),t.getQuickFixes=a.OneWorker(t,t.prototype.getQuickFixes),t.runQuickFixAction=a.OneWorker(t,t.prototype.runQuickFixAction),t}(i.AbstractMode);t.CSSMode=l});