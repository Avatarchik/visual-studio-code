/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
"use strict";define("vs/languages/typescript/participants/nlsParticipant",["require","exports","vs/nls!vs/languages/typescript/participants/nlsParticipant","vs/base/severity","vs/base/strings","vs/languages/typescript/lib/typescriptServices"],function(e,t,r,n,s,a){var o=function(){function e(e,t){this._sourceFile=e,this._model=t}return e.prototype.MarkNotLocalizedStrings=function(e){var t=[];this._markers=e;var r=function(e){e&&t.push(e)};t.push(this._sourceFile);do{var n=t.shift();n&&(this.isNlsLocalizeCall(n)||(this.markDoubleQuoteString(n),a.forEachChild(n,r)))}while(t.length>0)},e.prototype.isNlsLocalizeCall=function(e){if(e.kind===a.SyntaxKind.CallExpression){var t=e;if(t.expression.kind===a.SyntaxKind.PropertyAccessExpression){var r=t.expression;return s.equalsIgnoreCase(a.getTextOfNode(r.expression),"nls")&&s.equalsIgnoreCase(a.getTextOfNode(r.name),"localize")}}return!1},e.prototype.markDoubleQuoteString=function(t){if(t.kind===a.SyntaxKind.StringLiteral&&a.getTextOfNode(t).charCodeAt(0)===e._DoubleQuote){var s=this._model.getRangeFromOffsetAndLength(a.getTokenPosOfNode(t),t.getWidth());this._markers.push({severity:n.Info,message:r.localize("vs_languages_typescript_participants_nlsParticipant",0),startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.endColumn})}},e._DoubleQuote='"'.charCodeAt(0),e}(),i=function(){function e(){this._markers=[]}return e.prototype.validate=function(t,r,n){this._markers.length=0;var s=new o(n,t);s.MarkNotLocalizedStrings(this._markers),r.changeOne(e.ID,t.getAssociatedResource(),this._markers)},e.ID="typescript.nlsParticipant",e}();t.WorkerParticipant=i});